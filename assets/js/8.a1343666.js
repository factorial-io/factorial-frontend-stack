(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{199:function(e,t,o){"use strict";o.r(t);var r=o(0),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"migration-guide"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#migration-guide","aria-hidden":"true"}},[e._v("#")]),e._v(" Migration guide")]),e._v(" "),o("blockquote",[o("p",[e._v("You want to migrate an existing project from our gulp-based stack to @factorial/frontend-stack-core")])]),e._v(" "),o("p",[e._v("NB: Currently the following tasks are not yet replaced:")]),e._v(" "),o("ul",[o("li",[e._v("Automatic generation if SVG sprite maps")])]),e._v(" "),o("p",[e._v("Follow the "),o("a",{attrs:{href:"https://github.com/factorial-io/factorial-frontend-stack/issues?q=is%3Aissue+is%3Aopen+label%3Afeature",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("feature")]),o("OutboundLink")],1),e._v(" tag in the issue queue to get updates on that.\nIf you want to use "),o("code",[e._v("@factorial/frontend-stack-core")]),e._v(" now, this means that you need to run it in "),o("em",[e._v("parallel")]),e._v(" to the gulp based version.")]),e._v(" "),o("h2",{attrs:{id:"migration-steps"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#migration-steps","aria-hidden":"true"}},[e._v("#")]),e._v(" Migration Steps")]),e._v(" "),o("ol",[o("li",[e._v("Install "),o("a",{attrs:{href:"https://github.com/factorial-io/factorial-frontend-stack/tree/master/packages/core",target:"_blank",rel:"noopener noreferrer"}},[e._v("@factorial/frontend-stack-core"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("li",[e._v("Create "),o("code",[e._v(".neutrinorc.js")]),e._v(", "),o("a",{attrs:{href:"https://github.com/factorial-io/factorial-frontend-stack/tree/master/packages/core#how-do-i-change-entry-output-paths-for-my-project",target:"_blank",rel:"noopener noreferrer"}},[e._v("change paths if needed"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("li",[e._v("Create "),o("code",[e._v(".eslintrc.js")]),e._v(" and "),o("code",[e._v(".stylelintrc.js")]),e._v(" files "),o("a",{attrs:{href:"https://github.com/factorial-io/factorial-frontend-stack/tree/master/packages/core#setup-modules-of-stylelintrc-and-eslintrc",target:"_blank",rel:"noopener noreferrer"}},[e._v("as instructed in the FAQ"),o("OutboundLink")],1),e._v(". Delete any other "),o("code",[e._v(".eslintrc")]),e._v(" and "),o("code",[e._v(".stylelintrc")]),e._v(" files that might be in the project.")]),e._v(" "),o("li",[e._v("Setup tasks in "),o("code",[e._v("package.json")]),e._v(", "),o("a",{attrs:{href:"https://github.com/factorial-io/factorial-frontend-stack/blob/master/examples/core/package.json#L13",target:"_blank",rel:"noopener noreferrer"}},[e._v("see usage example"),o("OutboundLink")],1),e._v(". Use a namespace, if they are conflicting with your existing tasks.")]),e._v(" "),o("li",[e._v("Remove the following tasks from the projectsâ€™ "),o("a",{attrs:{href:"https://github.com/factorial-io/factorial-frontend-stack/blob/master/packages/gulp/gulpfile.babel.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("gulpfile"),o("OutboundLink")],1),e._v(":\n"),o("ul",[o("li",[o("code",[e._v("build:css")])]),e._v(" "),o("li",[o("code",[e._v("build:js")])]),e._v(" "),o("li",[o("code",[e._v("watch:css")])]),e._v(" "),o("li",[o("code",[e._v("watch:js")])]),e._v(" "),o("li",[o("code",[e._v("lint:js")])]),e._v(" "),o("li",[o("code",[e._v("lint:css")])])])]),e._v(" "),o("li",[o("code",[e._v('require("./index.css")')]),e._v(" in the js entry point of your project. This will start the dependency chain for CSS.")]),e._v(" "),o("li",[e._v("Try running a first build â€“ You will receive a lot of lint errors.")]),e._v(" "),o("li",[o("code",[e._v("Autofix")]),e._v(" code style errors for the whole code base. "),o("a",{attrs:{href:"https://github.com/factorial-io/factorial-frontend-stack/blob/master/examples/core/package.json#L20",target:"_blank",rel:"noopener noreferrer"}},[e._v("See the fix tasks in the usage example"),o("OutboundLink")],1),e._v(". Commit the stylistic fixes.")]),e._v(" "),o("li",[e._v("Fix the remaining lint errors manually.")]),e._v(" "),o("li",[e._v("Run the neutrino "),o("code",[e._v("start")]),e._v(" and "),o("code",[e._v("build")]),e._v(" tasks in conjunction with the remaining gulp watch task.")])]),e._v(" "),o("h2",{attrs:{id:"remove-obsolete-dependencies"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#remove-obsolete-dependencies","aria-hidden":"true"}},[e._v("#")]),e._v(" Remove obsolete dependencies")]),e._v(" "),o("p",[e._v("Once you can successfully build with "),o("code",[e._v("@factorial/frontend-stack-core")]),e._v(" you can remove a lot of obsolete dependencies from your project. ðŸŽ†")]),e._v(" "),o("p",[e._v("Everything related towards â€¦")]),e._v(" "),o("ul",[o("li",[e._v("compiling JS (browserify + babel.js)")]),e._v(" "),o("li",[e._v("compiling CSS (PostCSS + PostCSS plugins)")]),e._v(" "),o("li",[e._v("linting JS (eslint)")]),e._v(" "),o("li",[e._v("linting CSS (stylelint)")]),e._v(" "),o("li",[e._v("and their respective "),o("code",[e._v("gulp")]),e._v(" wrappers")])]),e._v(" "),o("p",[e._v("â€¦ can be safely deleted.")]),e._v(" "),o("ol",[o("li",[e._v("Remove obsolete imports in your gulpfile.")]),e._v(" "),o("li",[e._v("Remove obsolete dependencies from package.json.")])]),e._v(" "),o("h2",{attrs:{id:"caveats"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#caveats","aria-hidden":"true"}},[e._v("#")]),e._v(" Caveats")]),e._v(" "),o("ul",[o("li",[e._v("When removing "),o("code",[e._v("babel.js")]),e._v(", it might occur that you can not use es6 "),o("code",[e._v("import")]),e._v(" your gulpfile anymore. Replace it with "),o("code",[e._v("require")]),e._v(". In the rest of your codebase you can use es6 imports as expect.")]),e._v(" "),o("li",[e._v("If your projects uses the "),o("code",[e._v("export colors")]),e._v(" task, "),o("code",[e._v("postcss")]),e._v(" can not be removed.")]),e._v(" "),o("li",[e._v("If your projects uses non-standard PostCSS plugins (selector nesting, SVG import, â€¦) you need to add them to the "),o("code",[e._v(".neutrinorc.js")]),e._v(" file of your project. Or refactor your codebase.")]),e._v(" "),o("li",[e._v("If your project uses "),o("code",[e._v("browserify shims")]),e._v(", you might need to convert them to "),o("a",{attrs:{href:"https://webpack.js.org/guides/shimming/",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("webpack shims")]),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("If you have "),o("code",[e._v("/* stylelint-disable */")]),e._v(" comments in your codebase, you can not have multiple "),o("code",[e._v("disable")]),e._v(" comments followed after another. Always add "),o("code",[e._v("/* stylelint-enable */")]),e._v(" again.")]),e._v(" "),o("li",[e._v("If you are using "),o("code",[e._v("patternlab")]),e._v(", you need to update the gulp watch task, so patternlab gets build "),o("em",[e._v("after")]),e._v(" CSS and JS have been compiled.")]),e._v(" "),o("li",[e._v("if your projects uses relative urls in CSS, it is now relative to your "),o("code",[e._v("main")]),e._v(" entry point in javascript, not the current CSS file.")])])])}),[],!1,null,null,null);t.default=a.exports}}]);